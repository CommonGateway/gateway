App\Entity\Gateway:
    zaaksysteem:
        name: zaaksysteem
        auth: apikey
        apikey: Ge9J&TYLB5*C2xGf^jObf$
        location: https://demo.pre.zaaksysteem.app/api/v1
        authorizationHeader: API-Key
        headers:
            Api-Interface-Id: 676

App\Entity\Endpoint:
    caseEndpoint:
        name: Case endpoint
        description: endpoint for cases
        path: cases
        
    caseTypeEndpoint:
        name: Case Type endpoint
        description: endpoint for case types
        path: casetypes

App\Entity\Entity:

    # Case Object
    case:
        route: '/api/cases'
        name: cases
        description: Every action related to creating and maintaining cases.
        gateway: '@zaaksysteem'
        endpoint: 'case'
        #TODO: move collectionConfig to endpoint object later
        collectionConfig:
            results: 'result.instance.rows'
            envelope: 'instance'
            id: 'instance.id'
            paginationNext: 'result.instance.pager.next'
        #TODO: move translationConfig to endpoint object later
        translationConfig:
            PUT:
                method: 'POST'
                endpoint: 'case/{id}/update'
            POST:
                endpoint: 'case/create'

    # Casetype Object
    caseType:
        route: '/api/casetypes'
        name: casetypes
        description: Every action related to listing and retrieving casetypes.
        gateway: '@zaaksysteem'
        endpoint: 'casetype'
        #TODO: move collectionConfig to endpoint object later
        collectionConfig:
            results: 'result.instance.rows'
            envelope: 'instance'
            id: 'instance.id'
            paginationNext: 'result.instance.pager.next'

App\Entity\Attribute:

    # Case attributes
    case_casetype:
        name: casetype
        description: The casetype of this case
        type: object
#        required: true
        persistToGateway: true
        entity: '@case'
        object: '@caseType'
        objectConfig:
            envelope: 'instance'
            id: 'reference'
    case_channel_of_contact: # source but for response body only
        name: channel_of_contact
        description: The channel_of_contact of this case
        type: string
        persistToGateway: true
        entity: '@case'
    case_subject:
        name: subject
        description: The subject of this case
        type: string
        persistToGateway: true
        entity: '@case'
    case_subject_external:
        name: subject_external
        description: The subject_external of this case
        type: string
        persistToGateway: true
        entity: '@case'
    case_status:
        name: status
        description: The status of this case
        type: string
        enum: ['new', 'open', 'resolved', 'stalled']
        persistToGateway: true
        entity: '@case'
    case_number_master:
        name: number_master
        description: The number_master of this case
        type: integer
        persistToGateway: true
        entity: '@case'
    case_number:
        name: number
        description: The number of this case
        type: integer
        persistToGateway: true
        entity: '@case'
    case_date_of_registration:
        name: date_of_registration
        description: The date_of_registration of this case
        type: datetime
        persistToGateway: true
        entity: '@case'
    case_date_target:
        name: date_target
        description: The date_target of this case
        type: datetime
        persistToGateway: true
        entity: '@case'
    case_stalled_until:
        name: stalled_until
        description: The stalled_until of this case
        type: datetime
        persistToGateway: true
        entity: '@case'

    # Casetype attributes
    caseType_name: # = casetype_title
        name: name
        description: The name of this casetype.
        type: string
        maxLength: 255
        entity: '@caseType'
        persistToGateway: true
    caseType_title: # = casetype_name
        name: title
        description: The title of this casetype.
        type: string
        maxLength: 255
        entity: '@caseType'
        persistToGateway: true

App\Entity\Handler:
    caseHandler:
        name: Case handler
        sequence: 0
        conditions: "{}"
        endpoint: "@caseEndpoint"
        entity: "@case"

    caseTypeHandler:
        name: Case Type handler
        sequence: 0
        conditions: "{}"
        endpoint: "@caseTypeEndpoint"
        entity: "@caseType"
